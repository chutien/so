diff -rupN old/usr/include/minix/callnr.h new/usr/include/minix/callnr.h
--- old/usr/include/minix/callnr.h	2018-05-27 17:31:41.760782597 +0200
+++ new/usr/include/minix/callnr.h	2018-05-27 17:02:58.806352234 +0200
@@ -58,8 +58,9 @@
 #define PM_GETEPINFO		(PM_BASE + 45)
 #define PM_GETPROCNR		(PM_BASE + 46)
 #define PM_GETSYSINFO		(PM_BASE + 47)
+#define PM_SETSJF		(PM_BASE + 48)
 
-#define NR_PM_CALLS		48	/* highest number from base plus one */
+#define NR_PM_CALLS		49	/* highest number from base plus one */
 
 /*===========================================================================*
  *				Calls to VFS				     *
diff -rupN old/usr/include/unistd.h new/usr/include/unistd.h
--- old/usr/include/unistd.h	2018-05-27 17:31:41.757449255 +0200
+++ new/usr/include/unistd.h	2018-05-27 17:22:54.463027898 +0200
@@ -411,5 +411,7 @@ extern	 int optreset;		/* getopt(3) exte
 extern	 char *suboptarg;	/* getsubopt(3) external variable */
 #endif
 
+int setsjf(int); /* sjf_2018 */
+
 __END_DECLS
 #endif /* !_UNISTD_H_ */
diff -rupN old/usr/src/include/unistd.h new/usr/src/include/unistd.h
--- old/usr/src/include/unistd.h	2018-05-27 17:31:41.760782597 +0200
+++ new/usr/src/include/unistd.h	2018-05-27 17:21:55.732964508 +0200
@@ -411,5 +411,7 @@ extern	 int optreset;		/* getopt(3) exte
 extern	 char *suboptarg;	/* getsubopt(3) external variable */
 #endif
 
+int setsjf(int); /* sjf_2018 */
+
 __END_DECLS
 #endif /* !_UNISTD_H_ */
diff -rupN old/usr/src/lib/libc/misc/Makefile.inc new/usr/src/lib/libc/misc/Makefile.inc
--- old/usr/src/lib/libc/misc/Makefile.inc	2018-05-27 17:31:41.760782597 +0200
+++ new/usr/src/lib/libc/misc/Makefile.inc	2018-05-27 17:12:35.803596651 +0200
@@ -7,4 +7,4 @@
 SRCS+=	initfini.c
 
 # for -fstack-protector
-SRCS+=	stack_protector.c
+SRCS+=	stack_protector.c setsjf.c
diff -rupN old/usr/src/lib/libc/misc/setsjf.c new/usr/src/lib/libc/misc/setsjf.c
--- old/usr/src/lib/libc/misc/setsjf.c	1970-01-01 01:00:00.000000000 +0100
+++ new/usr/src/lib/libc/misc/setsjf.c	2018-05-27 17:24:00.586450764 +0200
@@ -0,0 +1,9 @@
+#include <lib.h>
+#include <unistd.h>
+
+int setsjf(int expected_time) /* sjf_2018 */
+{
+  message m;
+  m.m1_i1 = expected_time;
+  return _syscall(PM_PROC_NR, PM_SETSJF, &m);
+}
diff -rupN old/usr/src/minix/include/minix/callnr.h new/usr/src/minix/include/minix/callnr.h
--- old/usr/src/minix/include/minix/callnr.h	2018-05-27 17:31:41.764115939 +0200
+++ new/usr/src/minix/include/minix/callnr.h	2018-05-27 17:17:29.309591690 +0200
@@ -58,8 +58,9 @@
 #define PM_GETEPINFO		(PM_BASE + 45)
 #define PM_GETPROCNR		(PM_BASE + 46)
 #define PM_GETSYSINFO		(PM_BASE + 47)
+#define PM_SETSJF		(PM_BASE + 48)
 
-#define NR_PM_CALLS		48	/* highest number from base plus one */
+#define NR_PM_CALLS		49	/* highest number from base plus one */
 
 /*===========================================================================*
  *				Calls to VFS				     *
diff -rupN old/usr/src/minix/servers/pm/Makefile new/usr/src/minix/servers/pm/Makefile
--- old/usr/src/minix/servers/pm/Makefile	2018-05-27 17:31:41.764115939 +0200
+++ new/usr/src/minix/servers/pm/Makefile	2018-05-27 17:29:48.537158145 +0200
@@ -4,7 +4,7 @@
 PROG=	pm
 SRCS=	main.c forkexit.c exec.c time.c alarm.c \
 	signal.c utility.c table.c trace.c getset.c misc.c \
-	profile.c mcontext.c schedule.c
+	profile.c mcontext.c schedule.c setsjf.c
 
 DPADD+=	${LIBSYS} ${LIBTIMERS}
 LDADD+=	-lsys -ltimers
diff -rupN old/usr/src/minix/servers/pm/proto.h new/usr/src/minix/servers/pm/proto.h
--- old/usr/src/minix/servers/pm/proto.h	2018-05-27 17:31:41.760782597 +0200
+++ new/usr/src/minix/servers/pm/proto.h	2018-05-27 18:00:23.111787323 +0200
@@ -89,3 +89,6 @@ struct mproc *find_proc(pid_t lpid);
 int nice_to_priority(int nice, unsigned *new_q);
 int pm_isokendpt(int ep, int *proc);
 void tell_vfs(struct mproc *rmp, message *m_ptr);
+
+/* setsjf.c */
+int do_setsjf(void); /* sjf_2018 */
diff -rupN old/usr/src/minix/servers/pm/setsjf.c new/usr/src/minix/servers/pm/setsjf.c
--- old/usr/src/minix/servers/pm/setsjf.c	1970-01-01 01:00:00.000000000 +0100
+++ new/usr/src/minix/servers/pm/setsjf.c	2018-05-27 17:28:53.063691057 +0200
@@ -0,0 +1,10 @@
+#include <stdio.h>
+#include "pm.h"
+#include "mproc.h"
+
+int do_setsjf(void) /* sjf_2018 */
+{
+  int expected_time = m_in.m1_i1;
+  printf("Hello World!");
+  return OK;
+}
diff -rupN old/usr/src/minix/servers/pm/table.c new/usr/src/minix/servers/pm/table.c
--- old/usr/src/minix/servers/pm/table.c	2018-05-27 17:31:41.764115939 +0200
+++ new/usr/src/minix/servers/pm/table.c	2018-05-27 17:28:43.727002522 +0200
@@ -58,5 +58,6 @@ int (* const call_vec[NR_PM_CALLS])(void
 	CALL(PM_EXEC_RESTART)	= do_execrestart,
 	CALL(PM_GETEPINFO)	= do_getepinfo,		/* getepinfo(2) */
 	CALL(PM_GETPROCNR)	= do_getprocnr,		/* getprocnr(2) */
-	CALL(PM_GETSYSINFO)	= do_getsysinfo		/* getsysinfo(2) */
+	CALL(PM_GETSYSINFO)	= do_getsysinfo,		/* getsysinfo(2) */
+  CALL(PM_SETSJF) = do_setsjf
 };
